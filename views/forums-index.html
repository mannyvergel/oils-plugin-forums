{% extends pluginConf.mainTemplate %}

{% block title %}Forums{% endblock %}

{% block head %}

 <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">

{# TODO!!! Transfer to css  #}
<style>
.forums-cat {
	padding: 20px;
}

.forums-cat-icon {
	color: white;
  text-align: center;
  
}

.forums-cat-icon.news {
  font-size: 12px;
}

.forums-cat-text {
	font-weight: bold;
	color: #006FFF;
  font-size: 17px;
}

.forums-cat-desc-text {
  margin-top: 3px;
	margin-bottom: 0;
	color: #666;
	font-size: 14px;
  line-height: 17px;
}

.forums-cat .columns {
	margin-bottom: 0;
}

.forums {
  width: 100%;
  border: 0;
}

.forums tr {
  border: 0;
  border-bottom: 6px solid white;
}

.forums tr td {
  padding: 20px 12px;
}

.forums tr td.first {
  padding-left: 16px;
}

.forums tr th {
  padding: 0;
  text-align: center;
  font-weight: normal;
  color: #ccc;
}

.forums a {
  color: #5060ff;
}

.forums .viewcount {
  vertical-align: middle;
}

.forums .viewcount-container {
  text-align: center;
}

.forums .users-container {
  text-align: center;
}

</style>
{% endblock %}
{% block content %}

<h1>Welcome to {{defaultForum.name}} forum!</h1>

<div class="row" style="margin-bottom: 0px">  
  <div class="large-12 columns">
  <a class="btn btn-primary button" href="/forums/post">Ask a Question / Post a Message</a>
  </div>
</div>


{%if not categories or categories.length == 0%}
You have 0 categories. <a class="btn btn-primary button" href="/admin/forums/categories">Add</a>
{%else%}

<div class="row">
  
  <div class="large-12 columns">

    <table class="forums">
      <tr class="row forums-cat">
        <th class="first large-1 columns">
          &nbsp;
        </th>
        <th class="large-7 columns">
          &nbsp;
        </th>

        <th class="large-3 columns">
          users
        </th>

        <th class="large-1 columns">
          views
        </th>
        
      </tr>
    {%for category in categories%}
    	<tr class="row forums-cat" style="background: {{category.color}};">
    		<td class="first large-1 columns forums-cat-icon {%if category.icon == 'fa-newspaper-o'%}news{%endif%}">
    			{%if category.icon%}
    			<i class="fa {{category.icon}} fa-2x"></i>
    			{%endif%}
    		</td>
    		<td class="large-7 columns forums-cat-text-container">
    			<div><a href="/forums/category?_id={{category._id}}" class="forums-cat-text">{{category.name}}</a></div>
    			<p class="forums-cat-desc-text">{{category.desc}}</p>
    		</td>

        <td class="large-3 columns users-container">
          {%for user in category.activeUsers%}
            {{user.username}}
          {%endfor%}
        </td>

        <td class="large-1 columns viewcount-container">
          <span class="viewcount">{{category.viewCount}}</span>
        </td>
    	  
    	</tr>
    {%endfor%}
    {%endif%}
    </table>


  </div>
</div>

{% endblock %}


